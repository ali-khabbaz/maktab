function capitalize(){return function(e){function t(e){return e.substring(0,1).toUpperCase()+e.substring(1)}if(e.indexOf(" ")!==-1){var r,a;for(e=e.toLowerCase(),r=e.split(" "),a=0;a<r.length;a++)r[a]=t(r[a]);return r.toString().replace(/,/g," ")}return e=e.toLowerCase(),t(e)}}!function(){"use strict";angular.module("app",["app.core","app.filter","app.main","app.courses","app.video"])}(),function(){"use strict";angular.module("app.core",["ngRoute","satellizer","ngAnimate","ngSanitize"])}(),function(){"use strict";angular.module("app.courses",[])}(),function(){"use strict";angular.module("app.filter",[])}(),function(){"use strict";angular.module("app.main",[])}(),function(){"use strict";angular.module("app.video",[])}(),function(){"use strict";function e(e){function t(e){var t=a.getItem("userToken");return t&&(e.headers.authorization="ali is just."+t),e}function r(e){return e}var a=e.localStorage,o={request:t,response:r};return o}e.$inject=["$window"],angular.module("app.core").factory("authInterceptor",e)}(),function(){"use strict";function e(e,t,r){console.log("config---------"),t.config.$routeProvider=e,r.interceptors.push("authInterceptor")}e.$inject=["$routeProvider","routeServiceConfigProvider","$httpProvider"],angular.module("app.core").config(e)}(),function(){"use strict";function e(){console.log("routeServiceConfig-------"),this.config={},this.$get=function(){return{config:this.config}}}function t(e,t,r,a,o){function n(e){console.log("configureRoutes---",e),e.forEach(function(e){var t;"undefined"!=typeof e.config.deps&&0!==e.config.deps.length&&(t={deps:["$ocLazyLoad",function(t){return t.load(e.config.deps)}]},e.config.resolve=angular.extend(e.config.resolve||{},t)),v.when(e.url,e.config),m=e.config.isDefault?e:m}),v.otherwise({redirectTo:m.url||"/"})}function i(e){h=h.concat(e)}function s(){var e,t,a=[];for(e in r.routes)r.routes.hasOwnProperty(e)&&(t=r.routes[e],"undefined"!=typeof t.originalPath&&"undefined"==typeof t.redirectTo&&a.push(t));return a}function l(){return h}function c(){var e=t.$on("$routeChangeStart",function(e,t,r){t&&t.$$route});t.$on("$destroy",e)}function u(){e.path("/logout")}function d(){e.path(m.url||"/")}function g(){var r=t.$on("$routeChangeError",function(t,r,a,o){var n=401===o.status?"دسترسی غیر مجاز":"خطا در تغییر مسیر";logger.error(n,[r,o]),e.path(m.url)});t.$on("$destroy",r)}function p(){g(),c()}console.log("routeService");var f={configureRoutes:n,configureMenu:i,getRoutes:s,getMenuItems:l,redirectToDefault:d,redirectToLogout:u},m={},h=[],v=o.config.$routeProvider;return p(),f}t.$inject=["$location","$rootScope","$route","$filter","routeServiceConfig"],angular.module("app.core").provider("routeServiceConfig",e).factory("routeService",t)}(),function(){"use strict";function e(e,t){function r(){console.log("######",c.softwareParam,c.authorParam,c.resourceParam,c.levelParam),c.searchParam?e.getSearchResult({searchParam:c.searchParam}).then(function(e){n(e),c.loadingShow=!1}):e.getCategoryAndSubCategoriesAndArticles().success(function(e){o(e),c.loadingShow=!1})}function a(){var e=0;if(c.softwareParam)for(c.softwareParam=c.softwareParam.toLowerCase(),e=0;e<c.softwares.length;e++)c.softwares[e].name===c.softwareParam&&(c.softwares[e].select=!0);if(c.authorParam)for(c.authorParam=c.authorParam.toLowerCase(),e=0;e<c.authors.length;e++)c.authors[e].name===c.authorParam&&(c.authors[e].select=!0);if(c.resourceParam)for(c.resourceParam=c.resourceParam.toLowerCase(),e=0;e<c.resources.length;e++)c.resources[e].name===c.resourceParam&&(c.resources[e].select=!0);if(c.levelParam)for(c.levelParam=c.levelParam.toLowerCase(),e=0;e<c.levels.length;e++)c.levels[e].name===c.levelParam&&(c.levels[e].select=!0)}function o(t){c.articles=t.data,c.categoryAndSubCategoriesAndArticles=e.categoryAndSubCategoriesAndArticlesDataReady(t.data),c.softwares=e.extractSoftwares(t.data),c.authors=e.extractAuthors(t.data),c.resources=e.extractResources(t.data),c.levels=e.extractLevels(t.data),a()}function n(t){c.articles=t[1],c.softwares=e.extractSoftwares(t[1]),c.authors=e.extractAuthors(t[1]),c.resources=e.extractResources(t[1]),c.levels=e.extractLevels(t[1]),c.categoryAndSubCategoriesAndArticles=t[2],a()}function i(e){$(e.target).hasClass("active")?($(e.target).removeClass("active"),$(e.target).siblings("ul").slideUp()):($(".courses_accordion h4").removeClass("active"),$(".courses_accordion ul").slideUp(700),$(e.target).addClass("active"),$(e.target).siblings("ul").slideDown(700))}function s(t){c.selectedSubCategory=t,c.selectedArticles=e.filterArticlesSubCategory(c.articles,t)}function l(t){var r=null,a=!1,o=!1,n=!1,i=!1,s=!1;if(c.selectedSubCategory?c.selectedSubCategory===t.subCategoryName&&(a=!0):a=!0,e.noFilterSelected(c.softwares))o=!0;else for(r=0;r<c.softwares.length;r++)t.softwareName.toLowerCase()===c.softwares[r].name.toLowerCase()&&c.softwares[r].select&&(o=!0);if(e.noFilterSelected(c.authors))n=!0;else for(r=0;r<c.authors.length;r++)t.articleAuthor.toLowerCase().indexOf(c.authors[r].name.toLowerCase())>-1&&c.authors[r].select&&(n=!0);if(e.noFilterSelected(c.resources))i=!0;else for(r=0;r<c.resources.length;r++)t.articleResource.toLowerCase()===c.resources[r].name.toLowerCase()&&c.resources[r].select&&(i=!0);if(e.noFilterSelected(c.levels))s=!0;else for(r=0;r<c.levels.length;r++)t.articleLevel&&t.articleLevel.toLowerCase()===c.levels[r].name.toLowerCase()&&c.levels[r].select&&(s=!0);return!!(a&&o&&n&&i&&s)}var c=this;c.categoryAndSubCategoriesAndArticles="",c.articles="",c.selectedSubCategory="",c.selectSubCategory=s,c.accordion=i,c.selectedArticles="",c.searchParam=t.searchParam,c.softwareParam=t.software,c.authorParam=t.author,c.resourceParam=t.resource,c.levelParam=t.level,c.filterCourses=l,c.softwares=null,c.authors=null,c.resources=null,c.levels=null,c.selectedSoftwares=[],c.loadingShow=!0,r()}e.$inject=["coursesFactory","$routeParams"],angular.module("app.courses").controller("coursesController",e)}(),function(){"use strict";function e(e,t,r,a){function o(){return r.absUrl().split("/#/")[0]+"/"}function n(r){var a=o()+"app/getBestCourses",n=e.defer();return t.post(a,r).success(function(e){n.resolve([null,e.data])}).error(function(e){n.resolve([e])}),n.promise}function i(r){var a=e.defer();return y.get("searchWord#"+r.searchWord)?a.resolve([null,y.get("searchWord#"+r.searchWord),g(y.get("searchWord#"+r.searchWord))]):t({url:o()+"app/getSearchResult",method:"POST",data:r}).success(function(e){y.put("searchWord#"+r.searchWord,e.data),a.resolve([null,e.data,g(e.data)])}).error(function(e){a.resolve([e])}),a.promise}function s(){var r,a=o()+"app/getCategoryList",n=e.defer(),i={};return t.post(a).success(function(e){for(e=e.data,r=0;r<e.length;r++)i[e[r].id]||(i[e[r].id]={name:"",subCategories:[]}),i[e[r].id].name=e[r].name,i[e[r].id].subCategories.push(e[r].subname);n.resolve([null,i])}).error(function(e){n.resolve([e])}),n.promise}function l(){var r,a,n=o()+"app/getSelectedArticles",i=e.defer(),s=[],l={},c=!1;return t.post(n).success(function(e){for(e=e.data,r=0;r<e.length;r++){for(l={},c=!1,a=0;a<s.length;a++)s[a].categoryName===e[r].name&&(c=!0,s[a].videos.push({name:e[r].articleName,authorName:e[r].author_name,duration:e[r].duration,like:e[r].like,views:e[r].views,resourceName:e[r].resource_name}));c||s.push({categoryName:e[r].name,videos:[{name:e[r].articleName,authorName:e[r].author_name,duration:e[r].duration,like:e[r].like,views:e[r].views,resourceName:e[r].resource_name}]})}i.resolve([null,s])}).error(function(e){i.resolve([e])}),i.promise}function c(r){var a=o()+"app/getSubCategories",n=e.defer(),i={categoryName:r};return t.post(a,i).success(function(e){e=e.data,n.resolve([null,e])}).error(function(e){n.resolve([e])}),n.promise}function u(){return t({url:o()+"app/getCategoryAndSubCategoriesAndArticles",method:"GET",cache:!0})}function d(e){return e.sort(function(e,t){return e.categoryName=e.categoryName.toLowerCase(),e.subCategoryName=e.subCategoryName.toLowerCase(),t.categoryName=t.categoryName.toLowerCase(),t.subCategoryName=t.subCategoryName.toLowerCase(),e.categoryName>t.categoryName?1:e.categoryName<t.categoryName?-1:e.subCategoryName>t.subCategoryName?1:e.subCategoryName<t.subCategoryName?-1:0}),e}function g(e){var t,r,a=[];for(e=d(e),t=0;t<e.length;t++)0===a.length||e[t].categoryName!==a[a.length-1].categoryName?a.push({categoryName:e[t].categoryName,subCategories:[{name:e[t].subCategoryName,articles:[{name:e[t].articleName,id:e[t].articleId,duration:e[t].articleDuration,insertDate:e[t].articleInsertDate,releasedDate:e[t].articleReleaseDate,level:e[t].articleLevel,author:e[t].articleAuthor,resource:e[t].articleResource,views:e[t].articleViews,likes:e[t].articleLikes}]}]}):e[t].categoryName===a[a.length-1].categoryName&&(e[t].subCategoryName===a[a.length-1].subCategories[a[a.length-1].subCategories.length-1].name?a[a.length-1].subCategories[a[a.length-1].subCategories.length-1].articles.push({name:e[t].articleName,id:e[t].articleId,duration:e[t].articleDuration,insertDate:e[t].articleInsertDate,releasedDate:e[t].articleReleaseDate,level:e[t].articleLevel,author:e[t].articleAuthor,resource:e[t].articleResource,views:e[t].articleViews,likes:e[t].articleLikes}):a[a.length-1].subCategories.push({name:e[t].subCategoryName,articles:[{name:e[t].articleName,id:e[t].articleId,duration:e[t].articleDuration,insertDate:e[t].articleInsertDate,releasedDate:e[t].articleReleaseDate,level:e[t].articleLevel,author:e[t].articleAuthor,resource:e[t].articleResource,views:e[t].articleViews,likes:e[t].articleLikes}]}));for(t=0;t<a.length;t++)for(a[t].num=0,r=0;r<a[t].subCategories.length;r++)a[t].num+=a[t].subCategories[r].articles.length;return a}function p(e,t){var r,a=[];for(r=0;r<e.length;r++)e[r].subCategoryName===t&&a.push(e[r]);return a}function f(e){var t=[],r=[],a=null;for(a=0;a<e.length;a++)r.indexOf(e[a].softwareName)===-1&&(t.push({name:e[a].softwareName.toLowerCase(),select:!1}),r.push(e[a].softwareName));return C(t,"name")}function m(e){var t=[],r=[],a=null,o=null;for(o=0;o<e.length;o++)r.indexOf(e[o].articleAuthor)===-1&&(e[o].articleAuthor.toLowerCase().indexOf(" and ")>-1?(a=e[o].articleAuthor.toLowerCase().split(" and "),t.push({name:a[0],select:!1}),t.push({name:a[1],select:!1})):t.push({name:e[o].articleAuthor.toLowerCase(),select:!1}),r.push(e[o].articleAuthor));return C(t,"name")}function h(e){var t=[],r=[],a=null;for(a=0;a<e.length;a++)r.indexOf(e[a].articleResource)===-1&&(t.push({name:e[a].articleResource.toLowerCase(),select:!1}),r.push(e[a].articleResource));return C(t,"name")}function v(e){var t=[],r=[],a=null;for(a=0;a<e.length;a++)r.indexOf(e[a].articleLevel)===-1&&e[a].articleLevel&&(t.push({name:e[a].articleLevel.toLowerCase(),select:!1}),r.push(e[a].articleLevel));return C(t,"name")}function C(e,t){return e.sort(function(e,r){return e[t]>r[t]?1:e[t]<r[t]?-1:0}),e}function w(e){var t=null,r=!0;for(t=0;t<e.length;t++)if(e[t].select)return r=!1;return r}var y=a("dataCacheCourses"),S={getBestCourses:n,getCategoryList:s,getSelectedArticles:l,getSubCategories:c,getCategoryAndSubCategoriesAndArticles:u,categoryAndSubCategoriesAndArticlesDataReady:g,filterArticlesSubCategory:p,getSearchResult:i,extractSoftwares:f,noFilterSelected:w,extractAuthors:m,extractResources:h,extractLevels:v};return S}e.$inject=["$q","$http","$location","$cacheFactory"],angular.module("app.courses").factory("coursesFactory",e)}(),function(){function e(e){e.configureRoutes(t())}function t(){return[{url:"/courses",config:{templateUrl:"/app/courses/courses.html"}},{url:"/courses/search/:searchParam?",config:{templateUrl:"/app/courses/courses.html"}},{url:"/courses/filter/software/:software?/author/:author?/resource/:resource?/level/:level?",config:{templateUrl:"/app/courses/courses.html"}}]}e.$inject=["routeService"],angular.module("app.courses").run(e)}(),angular.module("app.filter").filter("capitalize",capitalize),function(){"use strict";function e(e,t,r,a,o){function n(){var r=a.getApiUrl()+"app/getTopCards",o=e.defer();return t.post(r).success(function(e){o.resolve([null,e.data])}).error(function(e){o.resolve([e])}),o.promise}function i(){var r,o=a.getApiUrl()+"app/getSearchData",n=e.defer(),i=[];return t({url:o,method:"GET",cache:!0}).success(function(e){for(r=0;r<e.data[0].length;r++)i.push(e.data[0][r]);n.resolve([null,i])}).error(function(e){n.resolve([e])}),n.promise}function s(){return t.post(a.getApiUrl()+"app/getTopCategories")}function l(){return e.all([t.post(a.getApiUrl()+"app/getTopSubCategories"),t.post(a.getApiUrl()+"app/getTopArticles"),t.post(a.getApiUrl()+"app/getBestArticles")])}function c(e){var t,r=[];for(t=0;t<e.length;t++)0===r.length||e[t].categoryName!==r[r.length-1].categoryName?r.push({categoryName:e[t].categoryName,subCategoryNames:[e[t].subCategoryName]}):e[t].categoryName===r[r.length-1].categoryName&&r[r.length-1].subCategoryNames.push(e[t].subCategoryName);return r}function u(e,t,r){var a,o;for(e.unshift({name:"Best",articles:r}),a=0;a<e.length;a++)for(e[a].articles||(e[a].articles=[]),o=0;o<t.length;o++)e[a].id===t[o].subCategoryId&&e[a].articles.push(t[o]);return e}function d(){return["اول","دوم","سوم","چهارم","پنجم","ششم","هفتم","هشتم","نهم","دهم","یازدهم","دوازدهم","سیزدهم","چهاردهم","پانزدهم","شانزدهم","هفدهم","هجدهم","نوزدهم","بیستم","بیست و یکم","بیست و دوم"]}var g=(o("dataCache"),{getTopCards:n,getSearchData:i,getTopCategories:s,topCategoriesDataReady:c,topSubCategoriesDataReady:u,getArticlesAndSubCategories:l,counting:d});return g}e.$inject=["$q","$http","$location","mainViewFactory","$cacheFactory"],angular.module("app.main").factory("homeFactory",e)}(),function(){function e(e){console.log("appRun"),e.configureRoutes(t())}function t(){return console.log("main.route"),[{url:"/main",config:{templateUrl:"/app/main/main.html",isDefault:!0}}]}e.$inject=["routeService"],console.log("main.route"),angular.module("app.main").run(e)}(),function(){"use strict";function e(e,t,r,a,o,n,i){function s(t,n,i,s){function b(e,r){e&&("object"==typeof e?(t.searchStr=x(e),N({originalObject:e})):"string"==typeof e&&e.length>0?t.searchStr=e:console&&console.error&&console.error("Tried to set "+(r?"initial":"")+" value of angucomplete to",e,"which is an invalid value"),F(!0))}function $(e){ge=null,t.hideResults(e),document.body.removeEventListener("click",$)}function A(e){return e.which?e.which:e.keyCode}function N(e){"function"==typeof t.selectedObject?t.selectedObject(e):t.selectedObject=e,F(e?!0:!1)}function I(e){return function(r){return t[e]?t[e](r):r}}function R(e){N({originalObject:e}),t.clearSelected&&(t.searchStr=null),M()}function x(e){return t.titleField.split(",").map(function(t){return D(e,t)}).join(" ")}function D(e,t){var r,a;if(t){r=t.split("."),a=e;for(var o=0;o<r.length;o++)a=a[r[o]]}else a=e;return a}function L(e,r){var o,n,i;if(i=new RegExp(r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),e)return e.match&&e.replace||(e=e.toString()),n=e.match(i),o=n?e.replace(i,'<span class="'+t.matchClass+'">'+n[0]+"</span>"):e,a.trustAsHtml(o)}function F(e){t.notEmpty=e,le=t.searchStr,t.fieldRequired&&s&&t.inputName&&s[t.inputName].$setValidity(se,e)}function U(e){var r=A(e);if(r!==d&&r!==c)if(r===u||r===p)e.preventDefault();else if(r===l)e.preventDefault(),!t.showDropdown&&t.searchStr&&t.searchStr.length>=ne&&(G(),t.searching=!0,K(t.searchStr));else if(r===g)M(),t.$apply(function(){oe.val(t.searchStr)});else{if(0===ne&&!t.searchStr)return;t.searchStr&&""!==t.searchStr?t.searchStr.length>=ne&&(G(),ie&&o.cancel(ie),t.searching=!0,ie=o(function(){K(t.searchStr)},t.pause)):t.showDropdown=!1,le&&le!==t.searchStr&&!t.clearSelected&&t.$apply(function(){N()})}}function k(e){!t.overrideSuggestions||t.selectedObject&&t.selectedObject.originalObject===t.searchStr||(e&&e.preventDefault(),o.cancel(ie),B(),R(t.searchStr))}function j(e){var t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function P(){return ue.getBoundingClientRect().top+parseInt(getComputedStyle(ue).maxHeight,10)}function T(){return n[0].querySelectorAll(".angucomplete-row")[t.currentIndex]}function _(){return T().getBoundingClientRect().top-(ue.getBoundingClientRect().top+parseInt(getComputedStyle(ue).paddingTop,10))}function O(e){ue.scrollTop=ue.scrollTop+e}function V(){var e=t.results[t.currentIndex];t.matchClass?oe.val(x(e.originalObject)):oe.val(e.title)}function q(e){var r=A(e),a=null,o=null;r===p&&t.results?(t.currentIndex>=0&&t.currentIndex<t.results.length?(e.preventDefault(),t.selectResult(t.results[t.currentIndex])):(k(e),M()),t.$apply()):r===l&&t.results?(e.preventDefault(),t.currentIndex+1<t.results.length&&t.showDropdown&&(t.$apply(function(){t.currentIndex++,V()}),de&&(a=T(),P()<a.getBoundingClientRect().bottom&&O(j(a))))):r===u&&t.results?(e.preventDefault(),t.currentIndex>=1?(t.$apply(function(){t.currentIndex--,V()}),de&&(o=_(),o<0&&O(o-1))):0===t.currentIndex&&t.$apply(function(){t.currentIndex=-1,oe.val(t.searchStr)})):r===f?t.results&&t.results.length>0&&t.showDropdown?t.currentIndex===-1&&t.overrideSuggestions?k():(t.currentIndex===-1&&(t.currentIndex=0),t.selectResult(t.results[t.currentIndex]),t.$digest()):t.searchStr&&t.searchStr.length>0&&k():r===g&&e.preventDefault()}function E(e){return function(r,a,o,n){a||o||n||!r.data||(r=r.data),t.searching=!1,Q(D(ee(r),t.remoteUrlDataField),e)}}function H(e,r,a,o){0!==r&&r!==-1&&(r||a||o||(r=e.status),t.remoteUrlErrorCallback?t.remoteUrlErrorCallback(e,r,a,o):console&&console.error&&console.error("http error"))}function B(){ce&&ce.resolve()}function W(a){var o={},n=t.remoteUrl+encodeURIComponent(a);t.remoteUrlRequestFormatter&&(o={params:t.remoteUrlRequestFormatter(a)},n=t.remoteUrl),t.remoteUrlRequestWithCredentials&&(o.withCredentials=!0),B(),ce=e.defer(),o.timeout=ce.promise,r.get(n,o).success(E(a)).error(H)}function z(r){B(),ce=e.defer(),t.remoteApiHandler(r,ce.promise).then(E(r))["catch"](H)}function M(){t.showDropdown=!1,t.results=[],ue&&(ue.scrollTop=0)}function G(){t.showDropdown=re,t.currentIndex=t.focusFirst?0:-1,t.results=[]}function Y(e){var r,a,o,n,i=t.searchFields.split(","),s=[];for("undefined"!=typeof t.parseInput()&&(e=t.parseInput()(e)),r=0;r<t.localData.length;r++){for(a=!1,o=0;o<i.length;o++)n=D(t.localData[r],i[o])||"",a=a||n.toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0;a&&(s[s.length]=t.localData[r])}return s}function J(e,r,a){if(!a)return!1;for(var o in r)if(r[o].toLowerCase()===a.toLowerCase())return t.selectResult(e),!0;return!1}function K(e){!e||e.length<ne||(t.localData?t.$apply(function(){var r;r="undefined"!=typeof t.localSearch()?t.localSearch()(e):Y(e),t.searching=!1,Q(r,e)}):t.remoteApiHandler?z(e):W(e))}function Q(e,r){var a,o,n,i,s,l;if(e&&e.length>0)for(t.results=[],a=0;a<e.length;a++)t.titleField&&""!==t.titleField&&(i=s=x(e[a])),o="",t.descriptionField&&(o=l=D(e[a],t.descriptionField)),n="",t.imageField&&(n=D(e[a],t.imageField)),t.matchClass&&(s=L(i,r),l=L(o,r)),t.results[t.results.length]={title:s,description:l,image:n,originalObject:e[a]};else t.results=[];t.autoMatch&&1===t.results.length&&J(t.results[0],{title:i,desc:o||""},t.searchStr)?t.showDropdown=!1:0!==t.results.length||ae?t.showDropdown=!0:t.showDropdown=!1}function X(){t.localData?Q(t.localData,""):t.remoteApiHandler?z(""):W("")}var Z,ee,te,re,ae,oe=n.find("input"),ne=m,ie=null,se=w,le=null,ce=null,ue=n[0].querySelector(".angucomplete-dropdown"),de=!1,ge=null;n.on("mousedown",function(e){e.target.id?(ge=e.target.id,ge===t.id+"_dropdown"&&document.body.addEventListener("click",$)):ge=e.target.className}),t.currentIndex=t.focusFirst?0:null,t.searching=!1,te=t.$watch("initialValue",function(e){e&&(te(),b(e,!0))}),t.$watch("fieldRequired",function(e,r){e!==r&&(e?F(le&&t.currentIndex!==-1?!0:!1):s[t.inputName].$setValidity(se,!0))}),t.$on("angucomplete-alt:clearInput",function(e,r){r&&r!==t.id||(t.searchStr=null,N(),F(!1),M())}),t.$on("angucomplete-alt:changeInput",function(e,r,a){r&&r===t.id&&b(a)}),t.onFocusHandler=function(){t.focusIn&&t.focusIn(),0!==ne||t.searchStr&&0!==t.searchStr.length||(t.currentIndex=t.focusFirst?0:t.currentIndex,t.showDropdown=!0,X())},t.hideResults=function(){ge&&(ge===t.id+"_dropdown"||ge.indexOf("angucomplete")>=0)?ge=null:(Z=o(function(){M(),t.$apply(function(){t.searchStr&&t.searchStr.length>0&&oe.val(t.searchStr)})},C),B(),t.focusOut&&t.focusOut(),t.overrideSuggestions&&t.searchStr&&t.searchStr.length>0&&t.currentIndex===-1&&k())},t.resetHideResults=function(){Z&&o.cancel(Z)},t.hoverRow=function(e){t.currentIndex=e},t.selectResult=function(e){t.$emit("selectResult",e),t.matchClass&&(e.title=x(e.originalObject),e.description=D(e.originalObject,t.descriptionField)),t.clearSelected?t.searchStr=null:t.searchStr=e.title,N(e),M()},t.inputChangeHandler=function(e){return e.length<ne?(B(),M()):0===e.length&&0===ne&&(t.searching=!1,X()),t.inputChanged&&(e=t.inputChanged(e)),e},t.fieldRequiredClass&&""!==t.fieldRequiredClass&&(se=t.fieldRequiredClass),t.minlength&&""!==t.minlength&&(ne=parseInt(t.minlength,10)),t.pause||(t.pause=v),t.clearSelected||(t.clearSelected=!1),t.overrideSuggestions||(t.overrideSuggestions=!1),t.fieldRequired&&s&&F(t.initialValue?!0:!1),t.inputType=i.type?i.type:"text",t.textSearching=i.textSearching?i.textSearching:y,t.textNoResults=i.textNoResults?i.textNoResults:S,re="false"!==t.textSearching,ae="false"!==t.textNoResults,t.maxlength=i.maxlength?i.maxlength:h,oe.on("keydown",q),oe.on("keyup",U),ee=I("remoteUrlResponseFormatter"),o(function(){var e=getComputedStyle(ue);de=e.maxHeight&&"auto"===e.overflowY})}var l=40,c=39,u=38,d=37,g=27,p=13,f=9,m=3,h=524288,v=500,C=200,w="autocomplete-required",y="Searching...",S="No results found",b="/angucomplete-alt/index.html";return n.put(b,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" name="{{inputName}}" tabindex="{{fieldTabindex}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div>      <div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}</div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",disableInput:"=",initialValue:"=",localData:"=",localSearch:"&",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"=",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",fieldTabindex:"@",inputName:"@",focusFirst:"@",parseInput:"&"},templateUrl:function(e,t){return t.templateUrl||b},compile:function(e){var t=i.startSymbol(),r=i.endSymbol();if("{{"!==t||"}}"!==r){var a=e.html().replace(/\{\{/g,t).replace(/\}\}/g,r);e.html(a)}return s}}}e.$inject=["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate"],angular.module("app.main").directive("angucompleteAlt",e)}(),function(){"use strict";function e(e,t){function r(){return t.absUrl().split("/#/")[0]+"/"}function a(e){d=e,p.setItem("userToken",e)}function o(){return d||(d=p.getItem("userToken")),d}function n(){return!!o()}function i(e){n()&&p.setItem("userInfo",e)}function s(){return p.getItem("userInfo")}function l(){d=null,p.removeItem("userToken"),p.removeItem("userInfo")}function c(e){var t=o();return t&&(e.headers.authorization="ali is just"+t),e}function u(e){return e}var d,g={getToken:o,setToken:a,getUser:s,setUser:i,isAuthenticated:n,getApiUrl:r,removeToken:l,request:c,response:u},p=e.localStorage;return g}e.$inject=["$window","$location"],angular.module("app.main").factory("mainViewFactory",e)}(),function(){"use strict";function e(e,t,r,a,o,n,i){function s(){o.getArticleInfo(d.parameter).then(l)}function l(e){e[0]&&(d.showList=!1),d.articleVideos=e[1],d.articleInfo=e[2],d.similarArticles=e[3],d.showList=!0,c(1,1)}function c(e,r){d.selectedVideo=r,d.selectedSection=e,d.videoAddress={},console.log("link",d.articleVideos[e-1].videos[r-1].link),null!==d.articleVideos[e-1].videos[r-1].link?o.getVideoLink(d.articleVideos[e-1].videos[r-1].link).success(function(t){g||(g=jwplayer("my-video2")),g.setup({file:t.link.trim(),image:"assets/img/articles/"+d.parameter.artId+"/Main.jpg",title:d.articleVideos[e-1].videos[r-1].videoName,height:480,width:800}),jwplayer().play()}):(d.videoAddress.wmv=t.getApiUrl()+"videos/"+d.parameter.artId+"/"+e+"/"+r+".wmv",d.videoAddress.mp4=t.getApiUrl()+"videos/"+d.parameter.artId+"/"+e+"/"+r+".mp4",d.videoAddress.webm=t.getApiUrl()+"videos/"+d.parameter.artId+"/"+e+"/"+r+".webm",g||(g=jwplayer("my-video2")),g.setup({file:d.videoAddress.mp4,image:"assets/img/articles/"+d.parameter.artId+"/Main.jpg",title:d.articleVideos[e-1].videos[r-1].videoName,height:480,width:800}))}function u(e){var t=null;$(e.target).is("h5")?t=$(e.target).parent():$(e.target).is("span")?t=$(e.target).closest("header"):$(e.target).is("header")&&(t=$(e.target)),t.hasClass("active")?(t.removeClass("active"),t.siblings("article").slideUp()):($("header.section_course_header.active").removeClass("active"),$("article.section_course_accordion").slideUp(700),t.addClass("active"),t.siblings("article").slideDown())}var d=this,g=null;d.current_video_address="",d.parameter=r,d.articleInfo={},d.articleMetadata="",d.showList=!1,d.config="",d.videoAddress=null,d.count=e.counting(),d.selectedVideo=null,d.selectedSection=null,d.articleVideos=null,d.selectVideo=c,d.accordion=u,d.similarArticles=null,s()}e.$inject=["homeFactory","mainViewFactory","$routeParams","$sce","videoFactory","$scope","$window"],angular.module("app.video").controller("videoController",e)}(),function(){"use strict";function e(e,t,r,a,o){function n(e,t,r){return o.trustAsResourceUrl(a.getApiUrl()+"videos/"+e.artId+"/"+t+"/"+r+".mp4")}function i(e){return o.trustAsResourceUrl(e)}function s(r){var o,n,i=a.getApiUrl()+"app/getArticleInfo",s=[],l=e.defer();return t.post(i,{article_id:r.artId}).success(function(e){if(e.err)l.resolve([e.err]);else{for(o=0;o<e.data[0].length;o++)n={},s[e.data[0][o].section_id]?(n.videos=[],n.videos.push({videoId:e.data[0][o].video_id,videoName:e.data[0][o].video_name,duration:e.data[0][o].duration,link:e.data[0][o].link}),s[e.data[0][o].section_id].videos.push(n.videos[0])):(n.sectionName=e.data[0][o].section_name,n.sectionId=e.data[0][o].section_id,n.videos=[],n.videos.push({videoId:e.data[0][o].video_id,videoName:e.data[0][o].video_name,duration:e.data[0][o].duration,link:e.data[0][o].link}),s[n.sectionId]=n);for(o=0;o<s.length;o++)s[o]||(s.splice(o,1),o--);l.resolve([null,s,{articleViews:e.data[0][0].articleViews,articleId:e.data[0][0].article_id,authorName:e.data[0][0].author_name,descBig:e.data[0][0].desc_big,descSmall:e.data[0][0].desc_small,duration:e.data[0][0].duration,levelName:e.data[0][0].level_name,like:e.data[0][0].like,views:e.data[0][0].views,name:e.data[0][0].name,releasedDate:e.data[0][0].released_date,resourceName:e.data[0][0].resource_name,categoryName:e.data[0][0].categoryName,articleDuration:(+(e.data[0][0].articleDuration/60)).toFixed(0),subCategoryName:e.data[0][0].subCategoryName},e.data[1]])}}),l.promise}function l(e){return t({url:a.getApiUrl()+"app/getVideoLink",method:"POST",data:{link:e}})}var c={getArticleInfo:s,createTrustedUrl:n,getVideoLink:l,cerateuploadBoyUrl:i};return c}e.$inject=["$q","$http","$location","mainViewFactory","$sce"],angular.module("app.video").factory("videoFactory",e)}(),function(){function e(e){e.configureRoutes(t())}function t(){return[{url:"/video/:artId",config:{templateUrl:"/app/video/video.html"}}]}e.$inject=["routeService"],angular.module("app.video").run(e)}(),function(){"use strict";function e(e,t,r){function a(){o()}function o(){e.getSearchData().then(function(e){e[0]?console.log("getSearchDataErrrrrrrr",e[0]):s.searchData=e[1]})}function n(e){var t=e.which||e.keyCode;13===t&&(console.log("enter"),r.path("/courses/search/"+l))}function i(e){console.log("input",e),l=e}var s=this,l="";s.list="mainviewcontroller loaded",s.searchData=[],s.selectedValue="",s.keyEventHandler=n,s.inputChanged=i,a(),t.$on("selectResult",function(e,t){t.originalObject.categoryName?r.path("/courses/"+t.originalObject.categoryName+"/"+t.originalObject.subcategoryName):t.originalObject.name&&r.path("/video/"+t.originalObject.id)})}e.$inject=["homeFactory","$scope","$location"],angular.module("app.main").controller("FirstPageSearchController",e)}(),function(){"use strict";function e(e){var t=this;t.list="mainviewcontroller loaded"}e.$inject=["mainViewFactory"],angular.module("app.main").controller("FirstPageSignupController",e)}(),function(){"use strict";function e(e){function t(){e.getArticlesAndSubCategories().then(function(t){a.topSubCategories=e.topSubCategoriesDataReady(t[0].data.data,t[1].data.data,t[2].data.data),a.loadingshow=!1})}function r(e){a.tab=e}var a=this;a.topSubCategories="",a.tab="Best",a.loadingshow=!0,a.changeTab=r,t()}e.$inject=["homeFactory"],angular.module("app.main").controller("TopArticlesAndSubCategories",e)}(),function(){"use strict";function e(e){function t(){r(),a()}function r(){e.getTopCards().then(function(e){e[0]?console.log("getTopCards Error",e[0]):(o.mainCards=e[1],$("main section.main_categories div.big_category").css("background-image","url(/css/img/"+o.mainCards[0].img+")"),$("main section.main_categories div.small_category_first").css("background-image","url(/css/img/"+o.mainCards[1].img+")"),$("main section.main_categories div.small_category_second").css("background-image","url(/css/img/"+o.mainCards[2].img+")"))})}function a(){e.getTopArticles().then(function(e){e[0]?console.log("getTopArticles Error",e[0]):(o.topArticles=e[1],console.log("vm.topArticles",o.topArticles))})}var o=this;o.mainCards="",o.topArticles="",t()}e.$inject=["homeFactory"],angular.module("app.main").controller("TopCardsController",e)}(),function(){"use strict";function e(e,t){function r(){function e(e){a.topCategories=t.topCategoriesDataReady(e.data)}t.getTopCategories().success(e)}var a=this;a.topCategories=[],r()}e.$inject=["mainViewFactory","homeFactory"],angular.module("app.main").controller("TopCategories",e)}();